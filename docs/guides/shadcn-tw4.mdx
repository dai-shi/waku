---
slug: guides/shadcn-tw4
title: TailwindCSS v4 + Shadcn/ui
description: How to setup Shadcn/ui with TailwindCSS v4 in a Waku app.
---

## Setup TailwindCSS v4 inside a Waku app

Prepare your Waku app to use the v4 standards of TailwindCSS to prevent unnecessary rewrites in the future,
and use Shadcn/ui for solid base components to build your UI.

### Prerequisites

This setup can be done inside a new or existing Waku app. For ease of explaination I'll assume you have a new Waku app.
To add to that, you'll need to have TailwindCSS v4 installed and setup in your Waku app. This can be done using the following guide:
[TailwindCSS v4 in Waku](tailwind-v4.mdx).

### Step 1: Install Shadcn/ui core packages

Install the core packages which are used by Shadcn/ui.

```bash
pnpm add clsx tailwind-merge@latest class-variance-authority@latest clsx@latest
```

### Step 2: Create the Components config file (used by the Shadcn/ui CLI)

This step can be skipped if you don't plan to use the CLI. This would mean that you intend to manually copy/paste the
source code from the Shadcn/ui docs into your project, and install any dependencies manually.

Create a file named `components.json` in the root of your project with the following content:

```js
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/styles/tailwind.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/utils/cn"
  }
}
```

> Note: Keep in mind that for path aliases (`@/components` and `@/utils/cn`) to work, you need to have them setup in your `tsconfig.json` file and your `vite.config.ts` file.

#### Option 1: Specific Aliases

Add the following to your `tsconfig.json` file:

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/components/*": ["src/components/*"],
      "@/utils/*": ["src/utils/*"]
    }
  }
}
```

Add the following to your `vite.config.ts` file:

```ts
import { defineConfig } from 'vite';
import path from 'path';

export default defineConfig({
  // ...
  resolve: {
    alias: {
      '@/components': path.resolve(__dirname, './src/components'),
      '@/utils': path.resolve(__dirname, './src/utils/cn'),
    },
  },
  // ...
});
```

#### Option 2: Src Aliases

Add the following to your `tsconfig.json` file:

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  }
}
```

Add the following to your `vite.config.ts` file:

```ts
import { defineConfig } from 'vite';

export default defineConfig({
  // ...
  resolve: {
    alias: {
      '@': '/src/component',
    },
  },
  // ...
});
```

Note: For vite, there also is the option to use the `vite-tsconfig-paths` plugin to handle aliases.
However this plugin doesn't seem to work within Waku just yet, atleast as far as I've noticed.

### Step 3: Manually add the Shadcn/ui stylesheet

Add the following to your `src/styles/tailwind.css` file:

<details>
<summary>
    Click me to view the content of the `src/styles/tailwind.css` file
</summary>

```css
@import 'tailwindcss';
@import 'tailwindcss/utilities' layer(utilities);

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 47.4% 11.2%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 100% 50%;
    --destructive-foreground: 210 40% 98%;

    --ring: 215 20.2% 65.1%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 224 71% 4%;
    --foreground: 213 31% 91%;

    --muted: 223 47% 11%;
    --muted-foreground: 215.4 16.3% 56.9%;

    --accent: 216 34% 17%;
    --accent-foreground: 210 40% 98%;

    --popover: 224 71% 4%;
    --popover-foreground: 215 20.2% 65.1%;

    --border: 216 34% 17%;
    --input: 216 34% 17%;

    --card: 224 71% 4%;
    --card-foreground: 213 31% 91%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 1.2%;

    --secondary: 222.2 47.4% 11.2%;
    --secondary-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --ring: 216 34% 17%;

    --radius: 0.5rem;
  }
}

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);

  --font-family-poppins: var(--font-poppins);
  --font-family-inter: var(--font-inter);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: '0';
    }
  }
}
```

<details>

### Step 4: Test the setup

To test the setup, you can use the Shadcn/ui CLI to import a component into your project or add it manually. For example, the button component.

#### Option 1: Use the Shadcn/ui CLI

```bash
npx shadcn-ui@latest add button
```

#### Option 2: Manually add the button component

First you need to install the `@radix-ui/react-slot` package:

```bash
pnpm add @radix-ui/react-slot
```

After that you can create a new file named `Button.tsx` in the `src/components/ui` (create this folder if you didn't do that yet) folder with the following content:

```tsx
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
```

And that's that! You should now have a working button component in your project which uses Shadcn/ui and TailwindCSS v4.
